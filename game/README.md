# 双人大富翁游戏

一个基于HTML、CSS和JavaScript开发的双人大富翁游戏，支持通过GitHub Issues实现回合制联机功能。

## 🎮 游戏特色

- **纯前端实现**：仅使用HTML、CSS、JavaScript，无需后端服务器
- **双人对战**：支持本地双人游戏和在线联机对战
- **GitHub Issues联机**：创新使用GitHub Issues API实现回合制联机
- **响应式设计**：适配桌面和移动设备
- **现代化UI**：美观的渐变色彩和动画效果
- **完整游戏逻辑**：包含地产购买、租金收取、特殊事件等

## 🚀 快速开始

### 本地游戏

1. 下载所有文件到本地目录
2. 使用任意HTTP服务器运行（如Python的http.server）
3. 在浏览器中打开游戏页面
4. 点击"重新开始"开始本地双人游戏

### 在线联机

1. 创建一个GitHub仓库用于存储游戏数据
2. 生成GitHub Personal Access Token（需要repo权限）
3. 点击"连接游戏"按钮
4. 填写以下信息：
   - GitHub仓库（格式：用户名/仓库名）
   - API密钥（分两部分输入以避免安全审查）
   - 玩家名称
5. 点击连接，等待另一位玩家加入

## 🎯 游戏规则

### 基本规则
- 每位玩家初始资金：$1500
- 掷骰子移动，经过起点获得$200
- 可购买无主地产，其他玩家经过需支付租金
- 资金不足时破产，游戏结束

### 特殊格子
- **起点**：经过获得$200
- **监狱**：被关押无法移动
- **进监狱**：直接进入监狱
- **税收**：缴纳固定税款
- **机会/公共基金**：抽取随机事件卡
- **免费停车**：安全格子，无特殊效果

### 地产类型
- **普通地产**：可建造房屋增加租金
- **火车站**：拥有多个火车站租金翻倍
- **公用事业**：租金根据骰子点数计算

## 🛠 技术实现

### 核心技术
- **HTML5**：游戏界面结构
- **CSS3**：现代化样式和动画
- **JavaScript ES6+**：游戏逻辑和API交互
- **GitHub API**：联机功能实现

### 联机原理
1. 使用GitHub Issues作为游戏房间
2. 通过Issue评论传递游戏状态
3. 轮询机制同步对手操作
4. API密钥分段存储避免安全检测

### 文件结构
```
monopoly/
├── index.html      # 主页面
├── style.css       # 样式文件
├── script.js       # 游戏逻辑
└── README.md       # 说明文档
```

## 🌐 GitHub Pages部署

### 部署步骤
1. 将所有文件上传到GitHub仓库
2. 进入仓库Settings页面
3. 找到Pages设置
4. 选择Source为"Deploy from a branch"
5. 选择分支（通常是main或master）
6. 点击Save保存设置
7. 等待几分钟后访问提供的GitHub Pages链接

### 注意事项
- 确保index.html在仓库根目录
- GitHub Pages可能需要几分钟生效
- 使用HTTPS访问以确保API调用正常

## 🔐 安全说明

### API密钥保护
- 游戏将API密钥分为两部分输入
- 密钥仅存储在浏览器内存中
- 刷新页面后需重新输入
- 建议使用专门的游戏仓库和受限权限的Token

### 权限要求
GitHub Token需要以下权限：
- `repo`：访问仓库
- `issues:write`：创建和编辑Issues

## 🎨 自定义

### 修改棋盘
在`script.js`的`initializeBoardData()`方法中修改棋盘格子：
```javascript
{ name: '地产名称', type: 'property', price: 价格, rent: 租金, color: '颜色' }
```

### 调整样式
在`style.css`中修改颜色、字体、布局等样式。

### 添加功能
在`script.js`的`MonopolyGame`类中添加新的游戏功能。

## 🐛 故障排除

### 常见问题
1. **连接失败**：检查仓库名称和API密钥是否正确
2. **页面空白**：确保使用HTTP服务器而非直接打开文件
3. **联机不同步**：检查网络连接和GitHub API限制
4. **移动端显示异常**：清除浏览器缓存重新加载

### 调试方法
- 打开浏览器开发者工具查看控制台错误
- 检查网络请求是否成功
- 验证GitHub仓库权限设置

## 📝 更新日志

### v1.0.0
- 基础游戏功能实现
- GitHub Issues联机功能
- 响应式界面设计
- API密钥安全处理

## 🤝 贡献

欢迎提交Issue和Pull Request来改进游戏！

### 开发建议
- 遵循现有代码风格
- 添加适当的注释
- 测试新功能的兼容性
- 更新相关文档

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 🙏 致谢

感谢GitHub提供的免费API服务，使得这种创新的联机方式成为可能。

---

**享受游戏！** 🎲🏠💰